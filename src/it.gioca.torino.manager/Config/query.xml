<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<list>
	<query name="DIMOSTRATORI">
		<value id="0">SELECT DISTINCT giocatorino.users.USERNAME FROM giocatorino.preloads, giocatorino.users
						WHERE giocatorino.preloads.USER = giocatorino.users.USERID</value>
		<value id="1">SELECT USERID FROM giocatorino.users WHERE USERNAME=? </value>
		<value id="2">INSERT INTO giocatorino.users (USERID, USERNAME) VALUES(?,?)</value>
		<value id="3">SELECT max(USERID) AS MAX FROM giocatorino.users</value>
		<value id="4">SELECT USERNAME FROM giocatorino.users WHERE giocatorino.users.STATUS =0 ORDER BY USERNAME</value>
		<value id="5">SELECT DISTINCT users.USERNAME FROM giocatorino.users, giocatorino.boardgame_status 
						WHERE boardgame_status.OWNERID = users.USERID</value>
		<value id="6">UPDATE giocatorino.users SET giocatorino.users.STATUS=? WHERE giocatorino.users.USERID=?</value>
		<value id="7">SELECT USERNAME from giocatorino.users WHERE giocatorino.users.USERID=?</value>
		<value id="8">SELECT U.USERID, U.USERNAME, U.STATUS, (SELECT COUNT(ID_GAME) FROM giocatorino.boardgame_status B WHERE B.OWNERID = U.USERID) AS COUNT, U.email, U.realname
		    			FROM giocatorino.users U ORDER BY U.USERNAME</value>
		<value id="9">DELETE FROM giocatorino.users WHERE USERID = ?</value>
		<value id="10">UPDATE giocatorino.users SET STATUS=? WHERE USERID = ?</value>
		<value id="11">SELECT COUNT(ID_GAME) AS COUNT FROM giocatorino.preloads WHERE USER=?</value>
		<value id="12">SELECT U.USERID, U.USERNAME, U.STATUS, email, realname FROM giocatorino.users U WHERE U.USERID = ?</value>
		<value id="13">UPDATE giocatorino.users SET USERNAME=?, email=?, realname=? WHERE USERID = ?</value>
		<value id="14">SELECT DISTINCT DEMONSTRATOR, (SELECT COUNT(*) from giocatorino.history B WHERE A.DEMONSTRATOR = B.DEMONSTRATOR) AS COUNT, U.USERNAME 
		    			FROM giocatorino.history A, giocatorino.users U where ID_GAME=? AND A.DEMONSTRATOR=U.USERID ORDER BY COUNT DESC</value>
	</query>
	<query name="FINDBOARDGAMES">
		<value id="0">SELECT ID, NAME, thumbnail FROM giocatorino.boardgames WHERE ID=?</value>
		<value id="1">SELECT ID, NAME, thumbnail FROM giocatorino.boardgames WHERE ID=? AND EXPANSION = 0</value>
		<value id="2">SELECT ID, giocatorino.boardgames.NAME, thumbnail FROM giocatorino.boardgames 
						WHERE giocatorino.boardgames.NAME LIKE ?</value>
		<value id="3">SELECT ID, giocatorino.boardgames.NAME, thumbnail FROM giocatorino.boardgames 
						WHERE giocatorino.boardgames.NAME LIKE ? AND EXPANSION = 0</value>
		<value id="4">SELECT giocatorino.boardgames.ID, giocatorino.boardgames.NAME, giocatorino.boardgames.thumbnail FROM giocatorino.boardgames, giocatorino.boardgame_designer, giocatorino.designer_fkey
						WHERE giocatorino.boardgame_designer.DESIGNER_NAME like ? 
						AND giocatorino.boardgame_designer.ID_DESIGNER = giocatorino.designer_fkey.ID_DESIGNER
						AND giocatorino.designer_fkey.ID_GAME = giocatorino.boardgames.ID</value>
		<value id="5">SELECT giocatorino.boardgames.ID, giocatorino.boardgames.NAME, giocatorino.boardgames.thumbnail FROM giocatorino.boardgames, giocatorino.boardgame_designer, giocatorino.designer_fkey
						WHERE giocatorino.boardgame_designer.DESIGNER_NAME like ? 
						AND giocatorino.boardgame_designer.ID_DESIGNER = giocatorino.designer_fkey.ID_DESIGNER
						AND giocatorino.designer_fkey.ID_GAME = giocatorino.boardgames.ID AND giocatorino.boardgames.EXPANSION = 0</value>
		<value id="6">SELECT boardgameexpansion as EXPANSION FROM giocatorino.boardgames WHERE ID=? AND EXPANSION = 0</value>
		<value id="7">SELECT boardgameexpansion as EXPANSION FROM giocatorino.boardgames WHERE ID=? AND EXPANSION = 0</value>
		<value id="8">SELECT DISTINCT giocatorino.alternativenames.ID_GAME FROM giocatorino.alternativenames WHERE giocatorino.alternativenames.NAME LIKE ?</value>
	</query>
	<query name="PREPARED_GAMES">
		<value id="0">INSERT INTO giocatorino.preloads (USER, ID_GAME, QUANTITY, LANGUAGE, ID_MAINGAME) VALUES(?,?,?,?,?)</value>
		<value id="1">SELECT ID_GAME, (SELECT NAME FROM giocatorino.boardgames WHERE ID=ID_GAME) AS NAME, LANGUAGE, ID_MAINGAME FROM giocatorino.preloads WHERE USER=?</value>
		<value id="2">DELETE FROM giocatorino.preloads WHERE ID_MAINGAME=? AND USER=?</value>
		<value id="3">DELETE FROM giocatorino.preloads WHERE ID_GAME=? AND USER=?</value>
		<value id="4">UPDATE giocatorino.preloads SET LANGUAGE=? WHERE ID_GAME=? AND USER=?</value>
		<value id="5">DELETE FROM giocatorino.preloads WHERE USER=?</value>
	</query>
	<query name="BOARDGAME_STATUS">
		<value id="0">INSERT INTO boardgame_status (ID_GAME, OWNERID, STATUS, LANGUAGE, ID_MAINGAME, DEMONSTRATOR) VALUES(?,?,?,?,?,0)</value>
		<value id="1">SELECT giocatorino.boardgames.NAME, giocatorino.boardgames.thumbnail, giocatorino.users.USERNAME, boardgame_status.ID_GAME,
						giocatorino.boardgame_status.OWNERID, giocatorino.boardgame_status.ID_EXIT, giocatorino.boardgame_status.STATUS, giocatorino.boardgame_status.LANGUAGE
						FROM giocatorino.boardgame_status, giocatorino.boardgames, giocatorino.users 
						WHERE boardgame_status.STATUS=? 
							AND boardgame_status.ID_MAINGAME=0 
							AND giocatorino.boardgames.ID=boardgame_status.ID_GAME
							AND boardgame_status.DEMONSTRATOR = giocatorino.users.USERID</value>
		<value id="2">SELECT giocatorino.boardgame_status.ID_GAME, giocatorino.boardgames.thumbnail, giocatorino.boardgames.NAME, 
						giocatorino.boardgame_status.LANGUAGE, giocatorino.boardgame_status.OWNERID, giocatorino.users.USERNAME
						FROM giocatorino.boardgame_status, giocatorino.boardgames, giocatorino.users
						WHERE giocatorino.boardgame_status.STATUS=0
							AND boardgame_status.ID_MAINGAME=0
							AND giocatorino.boardgames.ID=boardgame_status.ID_GAME
							AND giocatorino.users.USERID=giocatorino.boardgame_status.OWNERID</value>
		<value id="3">SELECT COUNT(ID_GAME) AS EXPANSIONS FROM giocatorino.boardgame_status WHERE ID_MAINGAME = ? AND OWNERID = ?</value>
		<value id="4">UPDATE giocatorino.boardgame_status SET STATUS=?, ID_EXIT=?, DEMONSTRATOR=? WHERE ID_GAME=? AND OWNERID=?</value>
		<value id="5">UPDATE giocatorino.boardgame_status SET STATUS=?, ID_EXIT=?, DEMONSTRATOR=? WHERE ID_MAINGAME=? AND OWNERID=?</value>
		<value id="6">SELECT DISTINCT ID_EXIT FROM giocatorino.boardgame_status</value>
		<value id="7">UPDATE giocatorino.boardgame_status SET ID_EXIT=? WHERE ID_GAME = ? AND OWNERID = ?</value>
		<value id="8">UPDATE giocatorino.boardgame_status SET ID_EXIT=? WHERE ID_MAINGAME = ? AND OWNERID = ?</value>
		<value id="9">SELECT DISTINCT ID_EXIT FROM giocatorino.boardgame_status WHERE ID_EXIT!=0 ORDER BY ID_EXIT</value>
		<value id="10">SELECT giocatorino.boardgame_status.ID_GAME, giocatorino.boardgames.thumbnail, giocatorino.boardgame_status.OWNERID, giocatorino.boardgames.NAME, giocatorino.boardgame_status.LANGUAGE
					 	FROM giocatorino.boardgame_status, giocatorino.boardgames
							WHERE giocatorino.boardgame_status.ID_EXIT=? AND giocatorino.boardgame_status.ID_MAINGAME=0
							AND giocatorino.boardgame_status.ID_GAME=giocatorino.boardgames.ID</value>
		<value id="11">SELECT giocatorino.boardgames.NAME, giocatorino.boardgames.thumbnail, giocatorino.users.USERNAME, boardgame_status.ID_GAME,
						giocatorino.boardgame_status.OWNERID, giocatorino.boardgame_status.ID_EXIT, giocatorino.boardgame_status.STATUS, giocatorino.boardgame_status.LANGUAGE
						FROM giocatorino.boardgame_status, giocatorino.boardgames, giocatorino.users 
						WHERE (boardgame_status.STATUS=0 || boardgame_status.STATUS=2) 
							AND boardgame_status.ID_MAINGAME=0 
							AND giocatorino.boardgames.ID=boardgame_status.ID_GAME
							AND boardgame_status.DEMONSTRATOR = giocatorino.users.USERID</value>
		<value id="12">SELECT giocatorino.boardgame_status.ID_GAME, giocatorino.boardgames.thumbnail, giocatorino.boardgames.NAME, 
						giocatorino.boardgame_status.LANGUAGE, giocatorino.boardgame_status.OWNERID, giocatorino.users.USERNAME
						FROM giocatorino.boardgame_status, giocatorino.boardgames, giocatorino.users, giocatorino.boardgame_designer, giocatorino.designer_fkey
						WHERE giocatorino.boardgame_status.STATUS=0
							AND boardgame_status.ID_MAINGAME=0
							AND giocatorino.boardgames.ID=boardgame_status.ID_GAME
							AND giocatorino.users.USERID=giocatorino.boardgame_status.OWNERID
							AND giocatorino.boardgame_designer.ID_DESIGNER = giocatorino.designer_fkey.ID_DESIGNER
							AND giocatorino.designer_fkey.ID_GAME = giocatorino.boardgames.ID
							AND giocatorino.boardgame_designer.DESIGNER_NAME like ?</value>
		<value id="13">SELECT NAME FROM giocatorino.alternativenames WHERE ID_GAME=?</value>
	</query>
	<query name="HISTORY">
		<value id="0">SELECT COUNT(*) AS COUNT FROM giocatorino.history WHERE ID_GAME=? AND DEMONSTRATOR=?</value>
		<value id="1">INSERT INTO giocatorino.history (ID_GAME, DEMONSTRATOR, TIMES) VALUES (?,?,1)</value>
		<value id="2">UPDATE giocatorino.history SET TIMES=? WHERE ID_GAME=? AND DEMONSTRATOR=?</value>
		<value id="3">SELECT giocatorino.boardgames.NAME, giocatorino.users.USERNAME, giocatorino.history.TIMES, giocatorino.boardgames.MAXTIME, giocatorino.boardgames.MINTIME
						FROM giocatorino.history, giocatorino.boardgames, giocatorino.users
						WHERE giocatorino.history.ID_GAME=giocatorino.boardgames.ID
						AND giocatorino.users.USERID=giocatorino.history.DEMONSTRATOR</value>
		<value id="4">INSERT INTO giocatorino.history (ID_GAME, DEMONSTRATOR, START) values(?,?,?)</value>
		<value id="5">UPDATE  giocatorino.history SET END=? WHERE id=?</value>
		<value id="6">SELECT max(id) AS ID FROM giocatorino.history H, giocatorino.users U where H.ID_GAME=? AND U.USERNAME like ? AND H.DEMONSTRATOR=U.USERID;</value>
	</query>
	<query name="SEARCH">
		<value id="0">SELECT giocatorino.boardgames.NAME, giocatorino.boardgames.thumbnail, giocatorino.boardgames.MINPL, giocatorino.boardgames.MAXPL,
						giocatorino.boardgames.MINTIME, giocatorino.boardgames.MAXTIME, giocatorino.boardgames.AGE, 
						giocatorino.boardgame_status.STATUS, giocatorino.users.USERNAME AS PROPRIETARIO, giocatorino.boardgames.ID 
						FROM giocatorino.boardgame_status, giocatorino.boardgames, giocatorino.users, boardgame_designer 
						WHERE giocatorino.boardgame_status.ID_GAME=giocatorino.boardgames.ID 
						AND giocatorino.boardgames.EXPANSION=0 AND giocatorino.users.USERID = giocatorino.boardgame_status.OWNERID
						%CONDITIONS%</value>
		<value id="1">SELECT giocatorino.boardgame_catogory.CATEGORY_NAME 
						FROM giocatorino.boardgame_catogory, giocatorino.category_fkey
						WHERE giocatorino.category_fkey.ID_GAME = ? 
						AND giocatorino.category_fkey.ID_CATEGORY = giocatorino.boardgame_catogory.ID_CATEGORY</value>
		<value id="2">SELECT giocatorino.boardgame_designer.DESIGNER_NAME
						FROM giocatorino.boardgame_designer, giocatorino.designer_fkey
						WHERE giocatorino.designer_fkey.ID_GAME = ? 
						AND giocatorino.designer_fkey.ID_DESIGNER = giocatorino.boardgame_designer.ID_DESIGNER</value>
	</query>
	<query name="LEAVE">
		<value id="0">SELECT giocatorino.boardgames.NAME, giocatorino.boardgames.thumbnail, giocatorino.boardgame_status.ID_GAME, 
						giocatorino.boardgame_status.STATUS
						FROM giocatorino.boardgames, giocatorino.boardgame_status
						WHERE giocatorino.boardgame_status.ID_GAME = giocatorino.boardgames.ID
						AND giocatorino.boardgame_status.OWNERID =?
						AND giocatorino.boardgame_status.ID_MAINGAME=0</value>
		<value id="1">DELETE FROM giocatorino.boardgame_status WHERE giocatorino.boardgame_status.OWNERID =?</value>
		<value id="2">SELECT giocatorino.boardgames.NAME, giocatorino.boardgames.thumbnail, giocatorino.boardgame_status.ID_GAME, 
						giocatorino.boardgame_status.STATUS, giocatorino.users.USERNAME
						FROM giocatorino.boardgames, giocatorino.boardgame_status, giocatorino.users
						WHERE giocatorino.boardgame_status.ID_GAME = giocatorino.boardgames.ID
						AND giocatorino.boardgame_status.OWNERID =?
						AND giocatorino.boardgame_status.ID_MAINGAME=0
						AND giocatorino.boardgame_status.STATUS!=0
						AND giocatorino.users.USERID=giocatorino.boardgame_status.DEMONSTRATOR</value>
		<value id="3">UPDATE giocatorino.boardgame_status SET giocatorino.boardgame_status.OWNERID=?, giocatorino.boardgame_status.ID_OLD_OWNER=?  
						WHERE ID_GAME=? AND giocatorino.boardgame_status.OWNERID=?</value>
	</query>
	<query name="MANAGEMENT">
		<value id="0">SELECT ID, giocatorino.boardgames.NAMES FROM giocatorino.boardgames WHERE giocatorino.boardgames.NAMES!='NULL' LIMIT 1000000</value>
		<value id="1">INSERT INTO giocatorino.alternativenames (ID_GAME, NAME) VALUES(?,?)</value>
		
		<value id="2">SELECT ID, giocatorino.boardgames.DESIGNER AS NAMES FROM giocatorino.boardgames WHERE giocatorino.boardgames.DESIGNER!='NULL' LIMIT 1000000</value>
		<value id="3">INSERT INTO boardgame_designer (ID_DESIGNER, DESIGNER_NAME) VALUES(?,?)</value>
		<value id="4">INSERT INTO designer_fkey (ID_GAME, ID_DESIGNER) VALUES(?,?)</value>
		<value id="5">SELECT ID_DESIGNER FROM giocatorino.boardgame_designer WHERE DESIGNER_NAME = ?</value>
		<value id="6">SELECT MAX(ID_DESIGNER) AS MAX from giocatorino.boardgame_designer</value>
		
		<value id="7">SELECT ID, giocatorino.boardgames.CATEGORY AS NAMES FROM giocatorino.boardgames WHERE giocatorino.boardgames.CATEGORY!='NULL' LIMIT 1000000</value>
		<value id="8">INSERT INTO boardgame_catogory (ID_CATEGORY, CATEGORY_NAME) VALUES(?,?)</value>
		<value id="9">INSERT INTO category_fkey (ID_GAME, ID_CATEGORY) VALUES(?,?)</value>
		<value id="10">SELECT ID_CATEGORY FROM giocatorino.boardgame_catogory WHERE CATEGORY_NAME = ?</value>
		<value id="11">SELECT MAX(ID_CATEGORY) AS MAX from giocatorino.boardgame_catogory</value>
	</query>
	<query name="SEARCH">
	    <value id="0">SELECT B.CATEGORY_NAME from giocatorino.boardgame_catogory B, giocatorino.category_fkey F	WHERE B.ID_CATEGORY = F.ID_CATEGORY	AND F.ID_GAME=?</value>
	    <value id="1">SELECT D.DESIGNER_NAME from giocatorino.boardgame_designer D, giocatorino.designer_fkey F WHERE D.ID_DESIGNER = F.ID_DESIGNER AND F.ID_GAME=?</value>
	    <value id="2">SELECT B.MAXTIME, B.MINTIME FROM giocatorino.boardgames B WHERE B.ID =?</value>
	    <value id="3">SELECT B.MINPL, B.MAXPL FROM giocatorino.boardgames B WHERE ID =?;</value>
	</query>
	<query name="LEAVEWITHOUT">
	    <value id="0">SELECT STATUS FROM giocatorino.boardgame_status WHERE OWNERID=? AND ID_GAME=?</value>
	    <value id="1">DELETE FROM giocatorino.boardgame_status WHERE giocatorino.boardgame_status.OWNERID=? AND ID_GAME=?</value>
	</query>
</list>